/*! kissui.sticky 2016-09-17 */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.kissuiPosition=b()}):a.kissuiPosition=b(a)}(this,function(){function a(a){if(a="Kissui.position: "+a,1!=q.safeMode)throw Error(a);console.log(a)}function b(){for(var a=document.querySelectorAll("*["+q.attribute+"]"),b=0;b<a.length;b++){var d=a[b],e=d.getAttribute(q.attribute);c(d,e)}}function c(b,c){for(var d=c.split(" "),e=!0,f=0;f<d.length;f++){var g=d[f];if(q.events.indexOf(g)==-1){e=!1;break}}e?m.push({element:b,event:c}):a("Invalid event name: `"+c+"`. Skipping "+b)}function d(){m=[]}function e(a,b){window.addEventListener?window.addEventListener(a,b,!1):window.attachEvent&&window.attachEvent("on"+a,b)}function f(a,b,c){if(c>0){if(b<a&&a<b+c)return!0}else if(b>a&&a>b+c)return!0;return!1}function g(a,b){if(null!=a.parentNode){var c=b.split(" "),d=!0,e=a.getBoundingClientRect().top,g=a.getBoundingClientRect().bottom,h=a.getBoundingClientRect().left,i=a.getBoundingClientRect().right,k=a.getBoundingClientRect().height,l=a.getBoundingClientRect().width,m=window.innerHeight||document.documentElement.clientHeight,n=document.body.clientWidth||document.documentElement.clientWidth,q=document.body.scrollTop-o,r=document.body.scrollLeft-p;c.indexOf("in")>-1&&(d=e>=0&&h>=0&&g<=m&&i<=n&&(d&&!0)),c.indexOf("out")>-1&&(d=(e+k<0||h+l<0||h>n||e>m)&&(d&&!0)),c.indexOf("top")>-1&&(d=!(0!=e&&!f(0,e,q))&&(d&&!0),e<0&&j("alreadyTop",a)),c.indexOf("left")>-1&&(d=!(0!=h&&!f(0,h,r))&&(d&&!0)),c.indexOf("right")>-1&&(d=!(i!=n&&!f(n,i,r))&&(d&&!0)),c.indexOf("bottom")>-1&&(d=!(g!=m&&!f(m,g,q))&&(d&&!0)),c.indexOf("middle")>-1&&(d=!(e+k/2!=m/2&&!f(m/2,e+k/2,q))&&(d&&!0)),c.indexOf("center")>-1&&(d=!(h+l/2!=n/2&&!f(n/2,h+l/2,r))&&(d&&!0)),d&&(a.getAttribute("id")&&j(a.getAttribute("id"),a),j(b,a),j("*",a,b))}}function h(a){for(var b=0;b<a.length;b++)g.call(this,a[b].element,a[b].event);o=document.body.scrollTop,p=document.body.scrollLeft,j("scroll",{top:document.body.scrollTop,left:document.body.scrollLeft})}function i(a,b){"object"!=typeof n[a]&&(n[a]=[]),n[a].push(b)}function j(a){var b,c,d,e=[].slice.call(arguments,1);if("object"==typeof n[a])for(c=n[a].slice(),d=c.length,b=0;b<d;b++)c[b].apply(this,e)}function k(a,b){i(a,function c(){_removeListener(a,c),b.apply(this,arguments)})}function l(){o=document.body.scrollTop,p=document.body.scrollLeft,b.call(this),1==q.triggerOnInit&&h.call(this,m),e("scroll",h.bind(this,m)),e("resize",h.bind(this,m))}var m=[],n=[],o=null,p=null,q={triggerOnInit:!0,attribute:"data-kui-position",safeMode:!1};return q.events=["in","out","middle","top","bottom","left","center","right"],_removeListener=function(a,b){var c;"object"==typeof n[a]&&(c=n[a].indexOf(b),c>-1&&n[a].splice(c,1))},{_options:q,_elements:m,on:i,once:k,removeListener:_removeListener,init:l,positions:h,add:c,reset:d}}),function(a,b){"function"==typeof define&&define.amd?define(["kissuiPosition"],function(c){return a.kissuiSticky=b(c)}):a.kissuiSticky=b(a.kissuiPosition)}(this,function(a){function b(){i=[];for(var a=document.querySelectorAll("*["+h.attribute+"]"),b=0;b<a.length;b++){var d=a[b];d.getAttribute(h.attribute);c(d,{})}}function c(b,c){i.push({element:b,active:!1,top:NaN,opts:c}),a.add(b,"top")}function d(a){for(var b=0;b<i.length;b++){var c=i[b];if(a===c.element)return{element:c,i:b}}return null}function e(a,b){if(b.active){var c=b.element;b.active=!1;var d=document.getElementById(h.placeholderId+a);console.log(h.placeholderId+a,d),d.parentElement.removeChild(d),c.className=c.className.replace("kui sticky element","").trim()}}function f(b,c){if(b.id.indexOf(h.placeholderId)>-1){var f=parseInt(b.getAttribute("data-id"),10);e(f,i[f])}else{var g=d(b),j=g.element;if(!j.active){var k=b.getBoundingClientRect(),l=b.currentStyle||window.getComputedStyle(b),m=document.createElement("div");m.className="kui sticky placeholder",m.style.width=k.width+"px",m.style.height=k.height+"px",m.style.marginTop=l.marginTop,m.style.marginBottom=l.marginBottom,m.style.marginLeft=l.marginLeft,m.style.marginRight=l.marginRight,m.id="kissui-sticky-placeholder-"+g.i,m.setAttribute("data-id",g.i),b.parentElement.insertBefore(m,b),a.add(m,"in"),b.className+=" kui sticky element",b.style.left=k.left+"px",b.style.width=k.width+"px",b.style.height=k.height+"px",j.active=!0}}}function g(){b.call(this),a.on("top",function(a,b){f(a,b)}),a.on("in",function(a,b){console.log("got in"),f(a,b)}),a.on("alreadyTop",function(a,b){a.id.indexOf(h.placeholderId)==-1&&f(a,b)}),a.init()}var h={attribute:"data-kui-sticky",placeholderId:"kissui-sticky-placeholder-"},i=[];return g(),{_options:h,_elements:i,init:g,add:c}});